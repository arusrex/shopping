{% extends "blog/base.html" %}
{% load static %}
{% block style %}<link rel="stylesheet" href="{% static "blog/css/sign-in.css" %}">{% endblock style %}
{% block content %}
    {% if user.is_authenticated is not True %}
        <main class="form-signin w-100 m-auto">
            <form method="post">
                {% csrf_token %}
                {% if site_setup.logo %}
                    <img class="mb-4" src="{{site_setup.logo.url}}" alt="" width="72" height="57">
                    <span class="fs-1 fw-bold text-shadow-sm text-black">{{site_setup.title}}</span>
                {% else %}
                    <span class="fs-1 fw-bold text-shadow-sm text-black">{{site_setup.title}}</span>
                {% endif %}        
                <h1 class="h3 mb-3 fw-normal">Digite usuário e senha para entrar</h1>

                <div class="form-floating">
                    {{form.username}}
                    {% if form.username.errors %}
                        <div class="alert alert-danger">
                            {% for error in form.username.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                    <label for="floatingInput">Usuário</label>
                </div>
                <div class="form-floating">
                    {{form.password}}
                    {% if form.password.errors %}
                        <div class="alert alert-danger">
                            {% for error in form.password.errors %}
                                <p>{{ error }}</p>
                            {% endfor %}
                        </div>
                    {% endif %}
                    <label for="floatingPassword">Senha</label>
                </div>
            
                <div class="form-check text-start my-3">
                    <input class="form-check-input" type="checkbox" value="remember-me" id="flexCheckDefault">
                    <label class="form-check-label" for="flexCheckDefault">
                    Lembrar
                    </label>
                </div>
                <button class="btn btn-primary w-100 py-2" type="submit">Entrar</button>
                <p class="mt-5 mb-3 text-body-secondary">&copy; {% now "Y" %}</p>
            </form>
            {% if form.non_field_errors %}
                <div class="alert alert-danger mt-3">
                    {% for error in form.non_field_errors %}
                        <p>{{ error }}</p>
                    {% endfor %}
                </div>
            {% endif %}
        </main>
    {% else %}
        <main class="flex-shrink-0">
            <div class="container container-width text-center">
                <h1 class="mt-5">Olá, você ja está logado {{user.first_name}} !</h1>
                <p class="lead">Já está habilitado para interagir com as novidades e eventos do {{site_setup.title}}.</p>
                <p>Ou se desejar, clique <a href="{% url "blog:logout" %}">aqui</a> para sair de sua conta.</p>
            </div>
            <hr class="text-primary m-5">
        </main>
    {% endif %}
{% endblock content %}